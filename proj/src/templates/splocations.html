{% extends "base.html" %}

{% load staticfiles %}
{% load crispy_forms_tags %}

{% block title %}{{ block.super }}Site Locations{% endblock %}

{% block navbar-left %}
  {% include "_navbar.html" with active_link="about" %}
{% endblock %}

{% block extrahead %}
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css">
{% endblock extrahead %}

<!-- Benefits of the Django application -->
{% block container %}

<div id="sec3">
  <div class="container">
    <div class="row voffset6">
      <div id="map-outer" class="col-md-12">
        <div id="address" class="col-md-4">
          <h2>Stockpile Locations</h2>
          <script>
          function goloc1() {
            map.setView([-21.79659234, 147.94955492], 14);
          }
		  
		   function goloc2() {
            map.setView([-23.71010583, 147.5493], 14);
          }
		  
		   function goloc3() {
            map.setView([-21.75635095, 147.94496298], 14);
          }
		  
		  function goloc4() {
            map.setView([-22.75484721, 148.46175492], 14);
          }
		  
		/*  function goloc5() {
            map.setView([-21.743056, 148.29], 14);
          } */
		  
		  function goloc6() {
            map.setView([-22.38190471, 148.27581882], 14);
          }
          </script>
          <ul>
		  
				<li><a href="#" onclick="goloc1();return false;">Broadmeadows</a> Location: Moranbah, QLD
              
              Coal-Type:Hard Coking Coal	 Mine-type:Underground </li>
			  
              <!--<li>Broadmeadows	QLD	Moranbah	BMA	
              <a href="#" onclick="goloc();return false;">21°44′35″S 147°58′15″E</a>
              Hard Coking Coal	4	?	?	Underground</li> -->
			  
			  <li> <a href="#" onclick="goloc2();return false;">Blackmeadow</a>	Location: Blackwater, Qld Coal-Type: Thermal/Coking	Mine-type: Open Cut</li>
              <!--<li>Blackwater	QLD	Blackwater	BMA	23°42′36″S 147°33′00″E	Thermal/Coking	13	?	?	Open Cut</li> -->
			  
			  <li><a href="#" onclick="goloc3();return false;">Goonyella</a>	Location: Moranbah, QLD	Coal-Type: Hard Coking Coal	Mine-Type:Open Cut/Underground</li>
             <!-- <li>Goonyella/Riverside	QLD	Moranbah	BMA	21°43′48″S 147°58′44″E	Hard Coking Coal	11	?	?	Open Cut/Underground</li> -->
			  
			  <li> <a href="#" onclick="goloc4();return false;">Norwich Park</a> Location: Dysart, QLD	Coal-Type: Soft Coking Coal Mine-Type: Open Cut</li>
             <!-- <li>Norwich Park	QLD	Dysart	BMA	22°46′48″S 148°28′48″E	Soft Coking Coal	6	all	?	Open Cut</li> -->
			 
            <!-- <li><a href="#" onclick="goloc5();return false;">Peak Downs</a> Location:Moranbah, Qld,	Coal-Type: Hard Coking Coal	Mine-Type:Open Cut</li> -->
			<!-- <li>Peak Downs	QLD	Moranbah	BMA	22°14′13″S 148°00′43″E	Hard Coking Coal	13	all	?	Open Cut</li> -->
			  
			  <li><a href="#" onclick="goloc6();return false;">Saraji</a> Location:Dysart, Qld, Coal-Type: Hard Coking Coal Mine-Type: Open Cut</li>
             <!-- <li>Saraji	QLD	Dysart	BMA	22°21′43″S 148°17′24″E	Hard Coking Coal	7.5	all	?	Open Cut</li> -->
			 
          </ul>
        </div>
        <div id="map"></div>
        <div id="map-container" class="col-md-8"></div>
      </div>
    </div>
  </div>
</div>

{% endblock container %}

{% block scripts %}
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    {# <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script> #}
    <script src="{% static 'site/js/geostockpiles.js' %}"></script>
    <script>
    var map = addMap();
	
    var FeatureCollection ={"type": "FeatureCollection", "features": [{"type":"Feature","geometry":{"type":"MultiPolygon","coordinates":[[[[147.549353,-23.710106],[147.54953,-23.71014],[147.549597,-23.709873],[147.549447,-23.709828],[147.549353,-23.710106]]]]},"properties":{"cartodb_id":2,"name":"Blackwater","description":"Blackwater","created_at":"2015-05-17T00:08:16Z","updated_at":"2015-05-17T00:09:22Z"}},{"type":"Feature","geometry":{"type":"MultiPolygon","coordinates":[[[[147.549466,-23.709782],[147.549611,-23.709816],[147.549689,-23.709605],[147.54953,-23.709566],[147.549466,-23.709782]]]]},"properties":{"cartodb_id":3,"name":"Blackwater","description":"Blackwater","created_at":"2015-05-17T00:08:34Z","updated_at":"2015-05-17T00:09:29Z"}},{"type":"Feature","geometry":{"type":"MultiPolygon","coordinates":[[[[147.949555,-21.796592],[147.954565,-21.797285],[147.954705,-21.797439],[147.954737,-21.79849],[147.954699,-21.799182],[147.954673,-21.799606],[147.95471,-21.79983],[147.954694,-21.800258],[147.954699,-21.800527],[147.95463,-21.800677],[147.954533,-21.800761],[147.954265,-21.800786],[147.953825,-21.800776],[147.953739,-21.800791],[147.953176,-21.800806],[147.952961,-21.800811],[147.952677,-21.800856],[147.952146,-21.800836],[147.951218,-21.800906],[147.950596,-21.800931],[147.950102,-21.800911],[147.949855,-21.800731],[147.949651,-21.800378],[147.94948,-21.800024],[147.94926,-21.798595],[147.949276,-21.798112],[147.949271,-21.796797],[147.949555,-21.796592]]]]},"properties":{"cartodb_id":1,"name":"Broadmeadows","description":"Broadmeadows","created_at":"2015-05-16T23:58:04Z","updated_at":"2015-05-17T00:09:16Z"}},{"type":"Feature","geometry":{"type":"MultiPolygon","coordinates":[[[[148.461755,-22.754847],[148.462206,-22.755565],[148.462173,-22.756272],[148.461878,-22.756638],[148.461712,-22.756727],[148.461288,-22.756613],[148.460462,-22.756396],[148.45999,-22.756039],[148.459775,-22.755233],[148.459931,-22.754882],[148.460977,-22.754664],[148.461755,-22.754847]]]]},"properties":{"cartodb_id":5,"name":"Norwich Park","description":"Norwich Park","created_at":"2015-05-17T00:14:41Z","updated_at":"2015-05-17T00:15:04Z"}},{"type":"Feature","geometry":{"type":"MultiPolygon","coordinates":[[[[147.944963,-21.756351],[147.944984,-21.757846],[147.944995,-21.758703],[147.944963,-21.75948],[147.944845,-21.759868],[147.94433,-21.759809],[147.943912,-21.75941],[147.943343,-21.759261],[147.942839,-21.759041],[147.942764,-21.758523],[147.942957,-21.757337],[147.943279,-21.75672],[147.943504,-21.756381],[147.944137,-21.756301],[147.944963,-21.756351]]]]},"properties":{"cartodb_id":4,"name":"Goonyella/Riverside","description":"Goonyella/Riverside","created_at":"2015-05-17T00:11:56Z","updated_at":"2015-05-17T00:12:26Z"}},{"type":"Feature","geometry":{"type":"MultiPolygon","coordinates":[[[[147.520552,-22.689414],[147.520782,-22.689854],[147.521099,-22.689933],[147.521324,-22.68981],[147.521453,-22.689473],[147.521592,-22.689211],[147.521512,-22.688998],[147.521367,-22.688963],[147.520552,-22.689414]]]]},"properties":{"cartodb_id":7,"name":null,"description":null,"created_at":"2015-05-17T00:22:52Z","updated_at":"2015-05-17T00:22:52Z"}},{"type":"Feature","geometry":{"type":"MultiPolygon","coordinates":[[[[148.275819,-22.381905],[148.277428,-22.385139],[148.282106,-22.38379],[148.281591,-22.382163],[148.282578,-22.381726],[148.282621,-22.380099],[148.28202,-22.379702],[148.275819,-22.381905]]]]},"properties":{"cartodb_id":6,"name":"Saraji","description":"Saraji","created_at":"2015-05-17T00:19:34Z","updated_at":"2015-05-17T00:34:35Z"}}]}
		  
  var geoJsonLayer = L.geoJson(FeatureCollection, {
    onEachFeature: function (feature, layer) {
        // Check if feature is a polygon
        if (feature.geometry.type === 'MultiPolygon') {
            // Don't stroke and do opaque fill
            layer.setStyle({
                'weight': 0,
                'fillOpacity': 0
            });
            // Get bounds of polygon
            var bounds = layer.getBounds();
            // Get center of bounds
            var center = bounds.getCenter();
            // Use center to put marker on map
            var marker = L.marker(center).addTo(map);
        }
    }
}).addTo(map);
  
  
    </script>
{% endblock scripts %}
